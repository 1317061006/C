# 中介者模式

----------

## 中介者模式的定义 用一个中介对象封装一系列的对象交互 使各对象不需要相互作用 从而使其耦合松散 而且可以独立改变它们之间的交互

#### Mediator抽象中介者角色
抽象中定义同一的接口  用于各同事之间的通信

#### Concrete Mediator 具体中介者角色
具体中介者角色协调各同事实现协作行为 因此必须依赖各个同事角色

#### Colleague 同事角色
每一个同事角色都知道中介角色 而且与其他的同事角色通信的时候 一定要通过中介者角色协作 每个同事类的行为分为俩种 ：
一种是同事自发的行为 比如改变对象本身的状态 处理自己的行为等 这种行为叫自发行为 与其他的同事类或中介者没有任何依赖
第二种必须依赖中介者才能完成的行为 叫做依赖方法


### 中介者模式的优点
中介者模式的优点就是减少了类间的依赖 把原有的一对多依赖变成了一对一的依赖 同事类只依赖中介者 减少了依赖
当然同时也降低了类间的耦合

### 中介者模式的缺点
缺点是中介者会膨胀的很大 而且逻辑复杂 原本N个对象之间的相互依赖关系转换为中介者模式和同事类的依赖关系  同事类
越多 中介者的逻辑就越复杂

### 中介者模式的使用场景
中介者模式通常适用于对象之间紧密耦合的情况 紧密耦合的标准是：在类图中出现了蜘蛛网状结构 在这种情况下
一定要考虑适用中介者模式 这有利于把蜘蛛网梳理为星型结构 使原本复杂混乱的关系变得清晰简单


### 中介者模式的实际应用
1. N个对象之间产生了相互的依赖关系（N>2)
2. 多个对象有依赖关系 但是依赖的行为尚不确定或者有发生改变的可能 在这种情况下一般建议采用中介者模式
降低变更引起的风险扩散
3. 产品开发 一个明显的例子就是MVC框架 把中介者应用到产品中 可以提升产品性能和扩展性 但是对于项目开发就未必
项目是投产用的 产品是稳定 高效 扩展为宗旨的

中介者是很少用到接口与抽象类的 这与依赖倒置原则是冲突的 这是因为是同事类而不是兄弟类 （没有相同的血缘） 说明
这些类之间只是协作关系 完成不同的任务 处理不同的业务 所以不能在抽象类或接口上严格定义同事类必须有的方法 （从这
点看继承是高侵入性的） 如果俩个对象不能提炼出共性 就不要去刻意追求俩者的抽象