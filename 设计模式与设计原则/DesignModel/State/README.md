# 状态模式

----------

## 定义：
> 当一个对象内在状态改变允许其改变行为 这个对象看起来像改变了其类
状态模式的核心是封装 状态的变更引起了行为的变更 从外部看好像是这个对象对应的类发生了改变一样

### State--抽象状态角色
接口或抽象类 负责对象状态定义 并且封装环境角色以实现状态切换
### ConcreteState---具体状态角色
每一个具体状态都必须满足俩个原则
本状态的行为管理以及趋向状态处理 通俗的说 就是本状态下要做的事 以及本状态如何过渡到其他状态
### Context---环境角色
定义客户端的接口 并且负责具体状态的切换

### 状态模式的优点
结构清晰
遵循设计原则
封装性非常好

### 状态模式的缺点
子类会太多 也就是类膨胀 如果一个事务很多个状态也不稀奇 但是完全使用状态模式就会有太多的子类 不好管理 不过是有方法解决
这个问题的 比如使用一个状态表 然后根据状态相应的操作

### 状态模式的注意事项
-----
状态模式适用于当某个对象在它的状态发生改变时 它的行为也随着发生比较大的变化 也就是说在行为受状态约束的情况下可以使用
状态模式 而且使用时对象的状态最好不要超过5个

基本能实现状态间的自由切换 才是最经常用到的状态模式  状态间的自由切换 会有很多种 需要我们把已有的几种状态按照一定的顺序
再重新组装一下 这就是使用一个建造者模式+状态模式来一起用 这样就会起到很好的封装作用
再深入一点 如果工作流开发的话 一个框架应该会有状态机管理 如一个Activity（节点）有初始化状态 挂起状态 完成状态
流程实例也有这么多状态 而这些状态是通过状态机来管理的  所以状态机其实就是状态模式的Context类的升级版
