# 组合模式

----------

> 组合模式有时候也叫合成模式 有时又叫部分-整体模式 主要是用来描述部分与整体的关系
## 定义是：将对象组合成树形结构以表示 部分-整体的层次结构 使得用户对单个用户和组合对象的使用具有一致性

#### Component抽象构件角色
定义参加组合对象的公有方法和属性 可以定义一些默认的行为或属性

#### Leaf叶子构件
叶子对象 其下再也没有其他的分支 也就是遍历最小单位

#### Composite树枝构件
树枝对象  它的作用是组合树枝结点和叶子节点形成的一个树形结构

### 组合模式的优点
高层模块调用简单
结点自由增加

### 组合模式的缺点
组合模式有一个非常明显的缺点  在场景类中 直接使用了实现类 在面向接口编程是十分不恰当的
与依赖倒置原则有冲突 使用者在使用的时候要考虑清楚 它限制了你接口的影响范围


### 组合模式的使用场景
维护和展示部分-整体关系的场景 如树形菜单 文件和文件夹管理器
从一个整体中能够独立出部分模块或功能的场景

### 组合模式的注意事项
只要是树形结构 就要考虑使用组合模式 只要是要体现局部和整体的关系的时候 而且这种关系还可能比较深 考虑一下组合
模式吧

### 组合模式的扩展
**分为真实模式与透明模式**
在Composite2包下的就是真实模式 真实模式就是比较安全的模式
在luncenyComposite就是透明模式 透明模式就是把组合起来使用的
方法放到抽象类 比如add(),remove(),getChildren()等方法  不管叶子节点还有树枝结点都有相同的结构 通过
getChildren来判断是否是叶子节点还是树枝结点 如果处理不当的话 就会在运行期出现问题 安全模式就不一样了
他把树枝结点和叶子节点彻底分开 树枝结点单独拥有组合的方法 这种方法比较安全

- 关于如何从下到上遍历
设置一个父节点的属性 在给添加的子节点的时候加上父节点的定义 在LuncenyComposite中我们添加了这个方法

